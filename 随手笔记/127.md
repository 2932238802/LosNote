1. [rust]

Router::new 里面的 route
的函数 签名有什么 要求么

- 必须是异步函数

- 参数要求：提取器 (Extractors)

  函数的参数必须实现 `FromRequest` 或 `FromRequestParts` 特性。你可以把这些参数想象成从 HTTP 请求中“提取”出来的工具。

  **常用提取器：**

  - **`State(ctx)`**：获取共享状态（数据库、配置）。**注意：类型必须和你 Router 注入的 State 类型完全一致。**
  - **`Json<T>`**：自动解析前端传来的 JSON（要求 `T` 实现了 `Deserialize`）。
  - **`Path(id)`**：解析 URL 里的路径参数（如 `/api/user/:id`）。
  - **`Query(params)`**：解析 URL 问号后面的参数（如 `?page=1`）





2. [rust]

- ```rust
  为什么 我这样不行
    let mut conn = state.redis_pool
          .get()
          .await
          .map_err(|e|{
              return Some(String::from("连接错误"));            
          })?;
  
  但是 
  这样可以
   let mut conn = state.redis_pool
          .get()
          .await
          .ok()?;
  
  ```



-  为什么 `ok()?` 可以？
  1. `.get().await` 返回的是 `Result<Connection, Error>`。
  2. `.ok()` 是一个转换函数，它把 `Result` 变成了 `Option`：
     - `Ok(v)` 变成 `Some(v)`
     - `Err(e)` 变成 `None`（**此时错误 e 被丢弃了**）
  3. 因为此时前面是 `Option`，且你的函数返回类型是 `Option`，所以 `?` 匹配成功。如果连不上，函数就直接返回 `Non`
-  





3. 

inspect_err 和 map_err的区别是？



- `inspect_err` 的作用是**查看** `Err` 里的内容并做点别的事（比如打日志），但它**不会改变** Result 的结果和类型。

  - **特点**：原封不动地把收到的 `Result` 再传出去。
  - **用途**：打印日志、调试、统计报错次数。
  - **返回值**：和原来一模一样的 `Result`。

- ```rust
  let res: Result<Conn, Error> = get_conn().await;
  let final_res = res.inspect_err(|e| {
      println!("发生错误了：{}", e); // 只是打印一下，不碰信封里的内容
  });
  // final_res 依然是 Result<Conn, Error>
  ```

- `map_err` 的作用是**转换**错误。它把原来的错误 `E` 变成一个新的错误 `F`

    - **特点**：会改变 `Result` 的错误类型。

    - **用途**：错误类型转换（比如把 `io::Error` 转成你自定义的 `AppError`），以便适配 `?` 操作符。

    - **返回值**：一个新的 `Result<T, 新错误类型>`。

- ```rust
    let res: Result<Conn, io::Error> = get_conn().await;
    let final_res = res.map_err(|e| {
        format!("数据库连接失败，原因为: {}", e) // 把 io::Error 变成了 String
    });
    // final_res 变成了 Result<Conn, String>
    ```







4. [rust]

如何理解 UNIX_EPOCH？



- **UTC 时间 1970 年 1 月 1 日 00:00:00**





5.  [git]

如何 把 本地的项目提交到远端的仓库里面
本地已经有文件
如何 和 远端 建立联系呢？



git add

git comit 

git remote add <url>

git branch -M main

git push -u origin main







