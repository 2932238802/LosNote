1. 

聊一下C++11的智能指针

- C++11 引入的智能指针（Smart Pointers）本质上是**对原始指针的封装**，利用 **RAII（资源获取即初始化）** 机制，让指针像局部变量一样，在生命周期结束（超出作用域）时自动释放内存

- [x] 26_1_28             
- [x] 26_1_29
- [ ] 





unique_ptr（独占指针）—— 最常用，开销最小

**核心思想：** 我命由我不由天。同一时间，只能有一个 `unique_ptr` 指向该对象。

- **特点：**
  - **不可复制**：你不能把一个 `unique_ptr` 赋值给另一个（编译器报错）。
  - **可移动**：你可以用 `std::move()` 把控制权转交给别人。
  - **性能极高**：它几乎没有任何额外开销，和原始指针一样快

- [x] 26_1_28
- [x] 26_1_29
- [ ] 



shared_ptr（共享指针）—— 引用计数

**核心思想：** 人多力量大。多个指针可以指向同一个对象，内部维护一个“引用计数”。

- **特点：**
  - **引用计数**：每多一个指针指向它，计数 +1；每销毁一个指针，计数 -1。当计数减到 0 时，自动释放内存。
  - **开销稍大**：因为要维护计数器（而且计数器的增减是原子操作，保证线程安全），比 `unique_ptr` 慢一点。
- **适用场景：** 需要在多个对象、多个线程间共享同一个资源时

- [x] 26_1_28

- [ ] 





**防止循环引用用 `weak_ptr`**

- [x] 26_1_28
- [ ] 





2. 

为什么C++要引入完美转发

```c++
void work(int& x) { /* 接受左值 */ }
void work(int&& x) { /* 接受右值 */ }

template<typename T>
void wrapper(T arg) {
    work(arg); 
}
```

- [ ] 26_1_28

  

1. **性能优化（避免无谓的拷贝）**： 如果没有完美转发，模板函数在传递大型对象时，很难保证一直使用移动语义。有了它，右值属性可以一路透传到最底层的函数，触发移动构造函数。

- [x] 26_1_28
- [x] 26_1_29



1. **泛型编程的基石**： 像 `std::make_shared<T>(args...)`、`std::vector::emplace_back(args...)` 这种函数，它们需要接收任意数量、任意类型的参数并传给构造函数。如果没有完美转发，这些标准库功能根本无法高效实现。

- [x] 26_1_28



1. **减少重复代码**： 不再需要为了处理左值和右值写一堆重载函数，一个模板搞定所有情况

- [ ] 26_1_28





3. 

如果我在没有进行完美转发并且在构造函数中没有定义右值构造函数，只定义了左值的构造函数，它的实际行为会变成什么样

- 调用拷贝 构造函数 实现物理拷贝

- [ ] 26_1_28



4. 

有没有用过模板？现在我在头文件中声明了一个模板，然后在不同的两个cpp文件中去特例化同一个类型的模板，它是会特例化一次还是特例化两次

- 会出现重复定义的问题
- ![image-20260128140711554](D:\LosAngelous\LosNote\随手笔记\png\image-20260128140711554.png)
- ![image-20260128140720342](D:\LosAngelous\LosNote\随手笔记\png\image-20260128140720342.png)

- [x] 26_1_28



5. 

红黑树有什么特性？

- 用的地方
  - `std::map` 和 `std::set`，以及 Linux 内核的进程调度

- [x] 26_1_28

- [x] 



- 五大约定
  - **节点颜色**：每个节点要么是红色，要么是黑色。
  - **根节点特性**：根节点永远是**黑色**。
  - **叶子节点特性**：所有的叶子节点（NIL 节点，空节点）都是**黑色**。
  - **红色不连续**：红色节点的两个子节点必须都是黑色（即：**不能有两个连续的红色节点**）。
  - **黑高相等**：从任一节点到其每个叶子的所有路径，所包含的**黑色节点数量必须相同**
  - 

- [ ] 26_1_28



- **AVL 树**：追求极度的平衡，查询速度略快。但在频繁插入和删除时，为了维持那 1 层的高度差，需要频繁地进行“旋转”操作。
- **红黑树**：通过放宽平衡条件（只要最长不超过最短的两倍即可），牺牲了一点点查询速度，换取了**更高效的插入和删除操作**

- [ ] 26_1_28



变色和旋转

![image-20260128142327494](D:\LosAngelous\LosNote\随手笔记\png\image-20260128142327494.png)

- [x] 26_1_29





![image-20260128142828078](D:\LosAngelous\LosNote\随手笔记\png\image-20260128142828078.png)

