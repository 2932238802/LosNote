1. 

windows 如何 查看一个端口是不是 被占用 被哪个程序占用？



- ```shell
  netstat -ano | findstr :9000
  ```



2. [c++]

```tex
setsockopt 如何理解？
```

- 函数原型

  - ```c++
    int setsockopt(int sockfd, int level, int optname, const void *optval, socklen_t optlen);
    ```

  - sockfd 内核会根据这个 FD 找到对应的 struct socket

  - level

    - SOL_SOCKET       与协议无关的设置 
    - IPPROTO_TCP     专门针对Tcp的优化
    - IPPROTO_IP         控制ip数据包的路由 TTL

  - #### optname

    - 该层级下面具体 要修改 哪个参数

  - optval optlen 

    - 就是具体要改的值



3. 

Linux 如何 查看指定端口
如何 查看本机的ip

- ip addr



4. [shell]

Ubuntu 如何 安装 clangd?

- ```shell
  sudo apt update
  sudo apt install clangd
  ```

- ```shell
  sudo apt install clangd-18
  ```



5. 

```c++
static ssize_t send_all(int fd, const void* buf, size_t len) {
    size_t total_sent = 0;
    const char* ptr = (const char*)buf;
    while (total_sent < len) {
        ssize_t sent = send(fd, ptr + total_sent, len - total_sent, 0);
        if (sent <= 0) return -1; 
        total_sent += sent;
    }
    return (ssize_t)total_sent;
}

如何理解？
```

- send 并不能一次性把 东西发送完毕

- 比如

  - ```c++
    send(fd,buf,1024,0);
    ```

  - 不一定发送1024 

  - 可能只是发送 500

  - total_sent 是记录发送的数

