1. [rust]

```rust
如何 查看端口号是不是启动了
如何 让 rust 连接上这个redis？

    let redis_manage = RedisConnectionManager::new(redis_url.clone())?;
    let redis_pool = bb8::Pool::builder()
        .max_size(5)
        .build(redis_manage)
        .await?;
```

- ```shell
  可以先用 windows 命令查看 这个端口号是不是正常连接
  Test-NetConnection 127.0.0.1 -Port 6379

- ```shell
  docker ps
  docker port redis
  确认 docker是不是在跑
  redis 是不是在运行
  ```



2. [C++]

```c++
如何 快速 封装一个 C++的打印日志类
输出到控制台先
几个 问题 第一个 是 如何理解qInstallMessageHandler?里面的函数签名？
```



- 函数签名是 void myHandler(QtMsgType type, const QMessageLogContext& ctx, const QString& msg);

- ```c++
  const QString time_ = QDateTime::currentDateTime().toString("yyyy-MM-dd HH:mm:ss.zzz");
  ```

  如何理解？

- `"yyyy-MM-dd HH:mm:ss.zzz"` 各字段含义
  - `yyyy`：4 位年份，例如 2026
  - `MM`：2 位月份 01-12
  - `dd`：2 位日 01-31
  - `HH`：24 小时制的小时 00-23
  - `mm`：分钟 00-59
  - `ss`：秒 00-59
  - `zzz`：毫秒 000-999
  - 连接符 `-`、`:`、空格都是字面量原样输出

最终效果类似：

```
2026-02-07 16:03:12.045
```





在 Qt 的 `QDateTime::toString(format)` 里，这种格式字符串的“同一个字母重复几次”，通常表示“输出宽度/形式”。

对 `y`（year）来说：

- `y`：按年份数字直接输出（不补零）
- `yy`：输出两位年份（取后两位），例如 2026 -> `26`
- `yyy` / `yyyy`：输出“至少 N 位”的年份，不足就左侧补 `0`

所以你写成 `yyy-MM-dd HH:mm:ss.zzz`，对“现在这种 4 位年份（如 2026）”来说，结果基本和 `yyyy-...` 一样，都会输出 `2026`，因为年份本来就不止 3 位，不需要补零。

差异只会出现在年份位数不足的时候（例如构造一个很早的日期）：

- 年份 = 9
  - `y`    -> `9`
  - `yy`   -> `09`
  - `yyy`  -> `009`
  - `yyyy` -> `0009`

补充一个容易踩坑点：大小写敏感

- `MM` 是“月份”，`mm` 是“分钟”
- 所以 `yyyy-MM-dd HH:mm:ss.zzz` 里 `MM`（月）和 `mm`（分）是故意一个大写一个小写。

- [x] 26_2_7

  

```c++
const QString ts = QDateTime::currentDateTime().toString("yyyy-MM-dd HH:mm:ss.zzz");
那我要是("y y y y - M M ....")
故意加空格有关系么
```

- 有
- 可能得到 2026 2026 2026 2026这样子







3. [protobuf]

```shell
cmd /c "protoc -I . --encode=auth_request.EmailCodeRequest auth_request.proto < test.txt > test.bin"
```

生成二进制文件

- [x] 26_2_7



4. 

```c++
为什么 有时候 命令行 powershell 运行C++Qt的程序
./Release/QtClient.exe的时候 会马上弹出下一行的 powershell
这个时候关掉powershell这个程序还是在
有时候就不会弹出下一行 
这时候关掉的话 就回关掉这个程序

这个原因是什么？
```

- Console Application 是控制台应用程序 （这个就会控制台应用程序）
- Gui windows Application 是窗口应用程序（这个就会马上弹出下一行）



如何让 Qt的窗口应用程序变成控制台应用程序

Qt C++ 如何下载 gitee 上面的 图片资源到本地？

```c++
#include <QCoreApplication>
#include <QNetworkAccessManager>
#include <QNetworkRequest>
#include <QNetworkReply>
#include <QFile>
#include <QUrl>
#include <QDebug>

class ImageDownloader : public QObject {
    Q_OBJECT
public:
    void downloadImage(const QString &imageUrl, const QString &savePath) {
        QUrl url(imageUrl);
        m_savePath = savePath;

        QNetworkRequest request(url);
        // Gitee 有时会检查 User-Agent，最好加上
        request.setHeader(QNetworkRequest::UserAgentHeader, "Mozilla/5.0");

        QNetworkReply *reply = m_manager.get(request);

        connect(reply, &QNetworkReply::finished, this, [this, reply]() {
            if (reply->error() == QNetworkReply::NoError) {
                QFile file(m_savePath);
                if (file.open(QIODevice::WriteOnly)) {
                    file.write(reply->readAll());
                    file.close();
                    qDebug() << "下载成功，保存至:" << m_savePath;
                } else {
                    qDebug() << "无法创建文件";
                }
            } else {
                qDebug() << "下载失败:" << reply->errorString();
            }
            reply->deleteLater();
        });
    }

private:
    QNetworkAccessManager m_manager;
    QString m_savePath;
};
```









